<head>
    <title>JARVIS</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="{{ url_for('static', filename='bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://codemirror.net/lib/codemirror.js"></script>

</head>
<body>

<nav class="navbar navbar-dark bg-dark navbar-expand-sm">
    <a class="navbar-brand" href="/index">JARVIS</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mainNav" aria-expanded="false"
            aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="mainNav">
        <ul class="nav">
            {% for item in nav %}
            <li class="nav-item"><a class="nav-link" href="{{ item.href }}">{{ item.text }}</a></li>
            {% endfor %}
        </ul>
    </div>
</nav>

<div class="row">
    <div class="col-sm-2">
        <div class="btn-group-vertical overflow-auto">
            <div style="height: 80%; overflow-y: scroll; overflow-x: hidden" id="moduleList">
            </div>
        </div>
    </div>
    <div class="col-2">
        <div id="codeBox" class="panel panel-default">
            <div class="panel-title">
                <tab id=t1><h3>{{ moduleName }}.py</h3>
            </div>
            <div style="height: 550px;padding:0" class="container panel-body" id="editor">
                {{ fileCode }}
            </div>
            <div class="panel-footer">
                <div class="btn-group">
                    <button type="button" class="btn badge-success" id="buttonSave"
                            onclick="finalizeEdit( {{ moduleName }} )"> Datei speichern
                    </button>
                    <button type="button" class="btn badge-danger" id="buttonDiscard"> Abbrechen</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- The Modal -->
<div class="modal" id="saveModal" aria-modal="false">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Modul Speichern</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body" id="saveModalBody">

            </div>
            <!-- Modal footer -->
            <div class="modal-footer" id="saveModalFooter">

            </div>

        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='codeEditLogic.js')}}" type="text/javascript" charset="utf-8"></script>

<script src="{{ url_for('static', filename='main_editModule.js') }}"></script>
</body>
